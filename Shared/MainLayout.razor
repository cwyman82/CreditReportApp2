@inherits LayoutComponentBase
@inject IJSRuntime JsRuntime
@using MudBlazor
@using CreditReportApp2.Shared

<MudThemeProvider @bind-IsDarkMode="@_isDarkMode" Theme="MyCustomTheme" /> 
<MudAppBar Color="Color.Primary" Elevation="4">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" style="color: mediumvioletred" OnClick="ToggleDrawer" />
    <MudText Typo="Typo.h6">Credit Report App</MudText>
    <MudSpacer />
   <MudToggleIconButton @bind-Toggled="_isDarkMode" Icon="@Icons.Material.Filled.DarkMode" Color="Color.Default" ToggledIcon="@Icons.Material.Filled.WbSunny" ToggledColor="@Color.Default" />
</MudAppBar>

<MudDrawer @bind-Open="isDrawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
    <MudDrawerContent>
        <NavMenu />
    </MudDrawerContent>
</MudDrawer>

<MudMainContent>
    @Body
</MudMainContent>

@code {
    private bool _isDarkMode;
    private bool isDarkMode = false;
    private MudTheme currentTheme;
    private MudThemeProvider _mudThemeProvider;
    private bool isDrawerOpen = false;

    MudTheme MyCustomTheme = new MudTheme()
    {
        PaletteLight = new PaletteLight()
        {
            Primary = Colors.Blue.Default,
            Secondary = Colors.Green.Accent4,
        },
        PaletteDark = new PaletteDark()
        {
            Primary = "#424242", 
            Secondary = "#607D8B", 
            Background = "#121212", 
            Surface = "#1E1E1E",    
            TextPrimary = Colors.Shades.White,
            AppbarBackground = "#212121", 
        }
    };

    private void ToggleDrawer()
    {
        isDrawerOpen = !isDrawerOpen; // Toggle drawer open state
    }
}



